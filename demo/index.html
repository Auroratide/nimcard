<!DOCTYPE html>
<html lang="en">
    <head>
        <meta name="viewport" content="width=device-width,initial-scale=1" />
        <title>Demo</title>

        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700" />
        <link rel="stylesheet" href="../component/lib/style.css" />
        <link rel="stylesheet" href="demo/index.css" />

        <script type="module" src="../node_modules/@auroratide/playing-card/lib/define.js"></script>
        <script type="module" src="../component/lib/define.js"></script>
    </head>
    <body>
        <main>
            <nimcard-game id="game" aiworker="component/lib/ai-worker.js"></nimcard-game>
            <script type="module">
                import * as Nimcard from '../nimcard/lib/index.js'
                const deck = Nimcard.Deck.shuffle(Nimcard.Deck.createFullDeck())
                const board = Nimcard.Board.create(deck)
                const game = Nimcard.Game.start(board)

                const elem = document.getElementById('game')
                elem.onnewgame = () => {
                    const deck = Nimcard.Deck.shuffle(Nimcard.Deck.createFullDeck())
                    const board = Nimcard.Board.create(deck)
                    const game = Nimcard.Game.start(board)

                    elem.start(game, ['human', 'ai'])
                }

                elem.onnewgame()
            </script>
        </main>
    </body>
</html>
